import{ab as w,a as x,j as s,F as d,f as i,aM as b,B as t}from"./index-DV4LLaY3.js";import{c as g,a as l,b as j,u as P,F as f,d as c,E as m}from"./index.esm-BKNPsa-H.js";const v={password:"",confirmPassword:""},N=g().shape({password:l().required("Please enter a valid Pasword").min(8,"Password must be at least 8 characters long").matches(/[A-Z]/,"Password must contain at least one uppercase letter").matches(/[a-z]/,"Password must contain at least one lowercase letter").matches(/[0-9]/,"Password must contain at least one number").matches(/[@$!%*?&#]/,"Password must contain at least one special character"),confirmPassword:l().required("Please enter a valid password").required("Please confirm your password").oneOf([j("password")],"Passwords must match")}),y=a=>P({initialValues:v,validationSchema:N,onSubmit:a}),F=()=>{const{userEmail:a,userId:o}=w();a&&atob(a);const u=o?atob(o):"",h=x(),r=y(async(p,n)=>{n.setSubmitting(!0);try{console.log("submitting");const e=await b(p.password,u);console.log("updated detail : ",e),e?(t.success(e.message),h("/signIn")):t.error("No user found")}catch(e){t.error("An error occurred. Please try again."),console.error(e)}finally{n.setSubmitting(!1)}});return s.jsx("div",{className:"container-fluid fpotp-Backg",children:s.jsx("div",{className:"row justify-content-center align-items-center min-vh-100 bg-gray-200 py-5 pt-5",children:s.jsx("div",{className:"col-md-8",style:{backgroundColor:"#fff"},children:s.jsxs("div",{className:"row shadow",style:{marginRight:"-24px"},children:[s.jsxs("div",{className:"col-md-6 rounded-l-md bg-white p-4",style:{maxWidth:"450px"},children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Reset Password"}),s.jsx(f,{value:r,children:s.jsxs("form",{className:"mt-4",onSubmit:r.handleSubmit,children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs(d,{controlId:"floatingPassword",label:"Password",className:"mb-3",children:[s.jsx(c,{as:i.Control,style:{height:"69px"},type:"password",name:"password",placeholder:"Enter password"}),s.jsx(m,{name:"password",component:"div",className:"text-danger"})]}),s.jsxs(d,{controlId:"floatingConfirmPassword",label:"Confirm Password",className:"mb-3",children:[s.jsx(c,{as:i.Control,style:{height:"69px"},type:"password",name:"confirmPassword",placeholder:"Enter password"}),s.jsx(m,{name:"confirmPassword",component:"div",className:"text-danger"})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("button",{className:"buttonSub",type:"submit",disabled:r.isSubmitting,children:"Submit"})}),s.jsx("br",{})]})})]}),s.jsxs("div",{className:"banner col-md-6 rounded-r-md position-relative",children:[s.jsx("img",{className:"h-100 object-cover rounded-r-md",src:"/assets/admin/FPOTP/kahl-orr-ZdLFPE0AZBU-unsplash.jpg",alt:"Login banner",style:{objectFit:"cover",width:"109%"}}),s.jsx("div",{className:"position-absolute top-0 start-50 translate-middle-x",children:s.jsx("p",{className:"quote text-center py-3",children:"Chase Your Vision"})})]})]})})})})},R=()=>s.jsx(F,{});export{R as default};
