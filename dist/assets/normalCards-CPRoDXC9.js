import{r,W as f,j as e,X as u,Y as Ke,Z as fe,_ as Ue,$ as Je,a0 as Ye,a1 as Ze,a2 as oe,a3 as qe,a4 as ze,a5 as ce,a6 as ie,a7 as Ge,a8 as Qe,a9 as Pe,aa as de,p as ea,i as aa}from"./index-DF_D_B9L.js";const me=r.forwardRef(({className:n,bsPrefix:a,as:l="div",...t},o)=>(a=f(a,"card-body"),e.jsx(l,{ref:o,className:u(n,a),...t})));me.displayName="CardBody";const he=me,pe=r.forwardRef(({className:n,bsPrefix:a,as:l="div",...t},o)=>(a=f(a,"card-footer"),e.jsx(l,{ref:o,className:u(n,a),...t})));pe.displayName="CardFooter";const sa=pe,xe=r.forwardRef(({bsPrefix:n,className:a,as:l="div",...t},o)=>{const d=f(n,"card-header"),x=r.useMemo(()=>({cardHeaderBsPrefix:d}),[d]);return e.jsx(Ke.Provider,{value:x,children:e.jsx(l,{ref:o,...t,className:u(a,d)})})});xe.displayName="CardHeader";const ra=xe,Ce=r.forwardRef(({bsPrefix:n,className:a,variant:l,as:t="img",...o},d)=>{const x=f(n,"card-img");return e.jsx(t,{ref:d,className:u(l?`${x}-${l}`:x,a),...o})});Ce.displayName="CardImg";const ta=Ce,ve=r.forwardRef(({className:n,bsPrefix:a,as:l="div",...t},o)=>(a=f(a,"card-img-overlay"),e.jsx(l,{ref:o,className:u(n,a),...t})));ve.displayName="CardImgOverlay";const na=ve,Ne=r.forwardRef(({className:n,bsPrefix:a,as:l="a",...t},o)=>(a=f(a,"card-link"),e.jsx(l,{ref:o,className:u(n,a),...t})));Ne.displayName="CardLink";const la=Ne,oa=fe("h6"),je=r.forwardRef(({className:n,bsPrefix:a,as:l=oa,...t},o)=>(a=f(a,"card-subtitle"),e.jsx(l,{ref:o,className:u(n,a),...t})));je.displayName="CardSubtitle";const ca=je,ye=r.forwardRef(({className:n,bsPrefix:a,as:l="p",...t},o)=>(a=f(a,"card-text"),e.jsx(l,{ref:o,className:u(n,a),...t})));ye.displayName="CardText";const ia=ye,da=fe("h5"),ge=r.forwardRef(({className:n,bsPrefix:a,as:l=da,...t},o)=>(a=f(a,"card-title"),e.jsx(l,{ref:o,className:u(n,a),...t})));ge.displayName="CardTitle";const ua=ge,Re=r.forwardRef(({bsPrefix:n,className:a,bg:l,text:t,border:o,body:d=!1,children:x,as:H="div",...w},T)=>{const m=f(n,"card");return e.jsx(H,{ref:T,...w,className:u(a,m,l&&`bg-${l}`,t&&`text-${t}`,o&&`border-${o}`),children:d?e.jsx(he,{children:x}):x})});Re.displayName="Card";const S=Object.assign(Re,{Img:ta,Title:ua,Subtitle:ca,Body:he,Link:la,Text:ia,Header:ra,Footer:sa,ImgOverlay:na});function fa(n,a){const l=r.useRef(!0);r.useEffect(()=>{if(l.current){l.current=!1;return}return n()},a)}const Ie=r.forwardRef(({className:n,bsPrefix:a,as:l="div",...t},o)=>(a=f(a,"carousel-caption"),e.jsx(l,{ref:o,className:u(n,a),...t})));Ie.displayName="CarouselCaption";const ma=Ie,$e=r.forwardRef(({as:n="div",bsPrefix:a,className:l,...t},o)=>{const d=u(l,f(a,"carousel-item"));return e.jsx(n,{ref:o,...t,className:d})});$e.displayName="CarouselItem";const ha=$e,pa=40;function xa(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const a=getComputedStyle(n);return a.display!=="none"&&a.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const Se=r.forwardRef(({defaultActiveIndex:n=0,...a},l)=>{const{as:t="div",bsPrefix:o,slide:d=!0,fade:x=!1,controls:H=!0,indicators:w=!0,indicatorLabels:T=[],activeIndex:m,onSelect:N,onSlide:k,onSlid:E,interval:b=5e3,keyboard:J=!0,onKeyDown:A,pause:g="hover",onMouseOver:B,onMouseOut:F,wrap:D=!0,touch:Y=!0,onTouchStart:_,onTouchMove:X,onTouchEnd:W,prevIcon:we=e.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:Z="Previous",nextIcon:Te=e.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:q="Next",variant:z,className:ke,children:V,...Ee}=Ue({defaultActiveIndex:n,...a},{activeIndex:"onSelect"}),C=f(o,"carousel"),R=Je(),I=r.useRef(null),[G,Q]=r.useState("next"),[be,M]=r.useState(!1),[$,P]=r.useState(!1),[i,De]=r.useState(m||0);r.useEffect(()=>{!$&&m!==i&&(I.current?Q(I.current):Q((m||0)>i?"next":"prev"),d&&P(!0),De(m||0))},[m,$,i,d]),r.useEffect(()=>{I.current&&(I.current=null)});let j=0,ee;Ye(V,(s,c)=>{++j,c===m&&(ee=s.props.interval)});const ae=Ze(ee),h=r.useCallback(s=>{if($)return;let c=i-1;if(c<0){if(!D)return;c=j-1}I.current="prev",N==null||N(c,s)},[$,i,N,D,j]),p=oe(s=>{if($)return;let c=i+1;if(c>=j){if(!D)return;c=0}I.current="next",N==null||N(c,s)}),K=r.useRef();r.useImperativeHandle(l,()=>({element:K.current,prev:h,next:p}));const se=oe(()=>{!document.hidden&&xa(K.current)&&(R?h():p())}),y=G==="next"?"start":"end";fa(()=>{d||(k==null||k(i,y),E==null||E(i,y))},[i]);const Oe=`${C}-item-${G}`,Me=`${C}-item-${y}`,Le=r.useCallback(s=>{qe(s),k==null||k(i,y)},[k,i,y]),He=r.useCallback(()=>{P(!1),E==null||E(i,y)},[E,i,y]),Ae=r.useCallback(s=>{if(J&&!/input|textarea/i.test(s.target.tagName))switch(s.key){case"ArrowLeft":s.preventDefault(),R?p(s):h(s);return;case"ArrowRight":s.preventDefault(),R?h(s):p(s);return}A==null||A(s)},[J,A,h,p,R]),Be=r.useCallback(s=>{g==="hover"&&M(!0),B==null||B(s)},[g,B]),Fe=r.useCallback(s=>{M(!1),F==null||F(s)},[F]),re=r.useRef(0),L=r.useRef(0),te=ze(),_e=r.useCallback(s=>{re.current=s.touches[0].clientX,L.current=0,g==="hover"&&M(!0),_==null||_(s)},[g,_]),Xe=r.useCallback(s=>{s.touches&&s.touches.length>1?L.current=0:L.current=s.touches[0].clientX-re.current,X==null||X(s)},[X]),We=r.useCallback(s=>{if(Y){const c=L.current;Math.abs(c)>pa&&(c>0?h(s):p(s))}g==="hover"&&te.set(()=>{M(!1)},b||void 0),W==null||W(s)},[Y,g,h,p,te,b,W]),ne=b!=null&&!be&&!$,U=r.useRef();r.useEffect(()=>{var s,c;if(!ne)return;const v=R?h:p;return U.current=window.setInterval(document.visibilityState?se:v,(s=(c=ae.current)!=null?c:b)!=null?s:void 0),()=>{U.current!==null&&clearInterval(U.current)}},[ne,h,p,ae,b,se,R]);const le=r.useMemo(()=>w&&Array.from({length:j},(s,c)=>v=>{N==null||N(c,v)}),[w,j,N]);return e.jsxs(t,{ref:K,...Ee,onKeyDown:Ae,onMouseOver:Be,onMouseOut:Fe,onTouchStart:_e,onTouchMove:Xe,onTouchEnd:We,className:u(ke,C,d&&"slide",x&&`${C}-fade`,z&&`${C}-${z}`),children:[w&&e.jsx("div",{className:`${C}-indicators`,children:ce(V,(s,c)=>e.jsx("button",{type:"button","data-bs-target":"","aria-label":T!=null&&T.length?T[c]:`Slide ${c+1}`,className:c===i?"active":void 0,onClick:le?le[c]:void 0,"aria-current":c===i},c))}),e.jsx("div",{className:`${C}-inner`,children:ce(V,(s,c)=>{const v=c===i;return d?e.jsx(Ge,{in:v,onEnter:v?Le:void 0,onEntered:v?He:void 0,addEndListener:Qe,children:(O,Ve)=>r.cloneElement(s,{...Ve,className:u(s.props.className,v&&O!=="entered"&&Oe,(O==="entered"||O==="exiting")&&"active",(O==="entering"||O==="exiting")&&Me)})}):r.cloneElement(s,{className:u(s.props.className,v&&"active")})})}),H&&e.jsxs(e.Fragment,{children:[(D||m!==0)&&e.jsxs(ie,{className:`${C}-control-prev`,onClick:h,children:[we,Z&&e.jsx("span",{className:"visually-hidden",children:Z})]}),(D||m!==j-1)&&e.jsxs(ie,{className:`${C}-control-next`,onClick:p,children:[Te,q&&e.jsx("span",{className:"visually-hidden",children:q})]})]})]})});Se.displayName="Carousel";const ue=Object.assign(Se,{Caption:ma,Item:ha}),va=({cars:n,bookings:a})=>{const l=JSON.stringify(a);return console.log("cars: ",n),e.jsx("div",{className:"carousel-container",children:e.jsx(ue,{interval:null,wrap:!1,touch:!0,pause:!1,keyboard:!1,indicators:!1,children:n.map((t,o)=>e.jsx(ue.Item,{className:"pt-2",children:e.jsxs(S,{className:"card",children:[e.jsx(S.Img,{src:t.thumbnailImg,style:{objectFit:"cover",height:"250px"}}),e.jsxs("div",{className:"detailsCard",children:[e.jsxs(Pe,{children:[e.jsx(de,{xs:8,children:e.jsxs(S.Body,{children:[e.jsx(S.Title,{className:"text-start",children:t.name}),e.jsxs(S.Text,{className:"text-start car-specs",children:[t.transmission," * ",t.seats," * ",t.fuelType]})]})}),e.jsx(de,{xs:4,children:e.jsx("div",{className:"circleRating me-2",children:e.jsxs(S.Body,{children:[e.jsx(ea,{className:"fas fa-star fa-lg ratingStar"}),e.jsx("span",{className:"text-center",children:"Rating"}),e.jsx("p",{children:t.rating})]})})})]}),t.offer&&t.offer.price?e.jsxs("p",{className:"text-start price-font",children:["Price: ",e.jsxs("span",{children:[t.offer.price,"₹ /Day"]})]}):e.jsxs("p",{className:"text-start price-font",children:["Price: ",e.jsxs("span",{children:[t.rentPricePerDay,"₹ /Day"]})]}),a!==null?e.jsx("a",{href:`/carDetail?carId=${t._id}&bookingDetail=${l}`,children:e.jsx(aa,{variant:"primary",className:"viewMore",children:"View More"})}):e.jsx(e.Fragment,{})]})]})},o))})})};export{ue as C,va as a};
