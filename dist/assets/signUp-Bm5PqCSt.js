import{u as y,a as j,r as b,j as e,L as N,b as v,B as m,s as S,l as C}from"./index-BFLgbbYQ.js";import{o as k}from"./userAuthentication-BFKIytt4.js";import{G as D}from"./googleAuthService-D6lSGAPd.js";const U=p=>{const{name:c,email:i,password:t,Cpassword:r}=p,a={};(!c||c.trim()=="")&&(a.name="Please enter your name",console.log("failed name")),(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(i)||i.trim()=="")&&(a.email="Please enter a valid email",console.log("failed email"));const u=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+{}[\]:;<>,.?~\\/-]).{8,}$/.test(t);if(!t||t.trim()=="")a.password="Please enter a valid password",console.log("failed password");else if(!u){const o=/[a-z]/.test(t),s=/[A-Z]/.test(t),x=/\d/.test(t),d=t.length>7,g=/[!@#$%^&*()_+{}[\]:;<>,.?~\\/-]/.test(t);(!o||!s||!d||!x||!g)&&(a.password="Password must ",a.password+=o?"":"contain at least one lowercase letter, ",a.password+=s?"":"contain at least one uppercase letter, ",a.password+=x?"":"contain at least one digit, ",a.password+=d?"":"be at least 8 characters long",a.password+=g?"":"containt atleast one special character",console.log("failed password"))}return t!==r&&(a.Cpassword="password isn't matching",console.log("wrong Cpassword")),a},A=()=>{const p=y(),c=j(),[i,t]=b.useState(!1),[r,a]=b.useState({name:"",email:"",Cpassword:"",password:""}),[l,f]=b.useState({}),w=async o=>{try{t(!0),console.log("checking form datas"),o.preventDefault(),console.log(r.Cpassword);const s=await U(r);if(Object.keys(s).length>0)console.log("error found"),f(s),t(!1);else{console.log("Validation completed no error found");const{name:x,email:d,password:g}=r;console.log("passing request for otp"),await k(d).then(n=>{if(n.code==200&&n.purpose=="signup"){m.success(n.message);const h={name:x,email:d,password:g,otp:n.OTP,purpose:"signup"};console.log("userData : ",h),console.log("resposne : ",n),sessionStorage.setItem("otp",h.otp),sessionStorage.setItem("usersDetails",JSON.stringify(h)),c("/OTP")}}).catch(n=>{console.log(n),m.error(n.message),console.log("not successfull")}).finally(()=>{t(!1)})}}catch(s){console.log(s)}},u=o=>{o.preventDefault(),D().then(s=>{s.message==="user SignIn success"||s.message==="user SignUp success"?(console.log("response : ",s),m.success(s.message),console.log(s.token),p(S(s.token)),p(C()),setTimeout(()=>{c("/")},1e3)):(console.log(s.message),m.error("something went wrong"))}).catch(s=>{console.log("error : ",s),m.error(s.message)})};return e.jsxs("div",{className:"container-fluid body-class",children:[i&&e.jsx(N,{}),e.jsx("div",{className:"row justify-content-center align-items-center min-vh-100 bg-gray-200 py-5 pt-5",children:e.jsx("div",{className:"col-md-8",style:{backgroundColor:"#fff"},children:e.jsxs("div",{className:"row shadow",style:{marginRight:"-24px"},children:[e.jsxs("div",{className:"col-md-6 rounded-l-md bg-white p-4",style:{maxWidth:"450px"},children:[e.jsx("h1",{className:"text-xl font-semibold",children:"User SignUp"}),e.jsx("small",{className:"text-gray-400",children:"Enter your details below."}),e.jsxs("form",{className:"mt-4",onSubmit:w,action:"",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"mb-2 block text-xs font-semibold",children:"Name"}),e.jsx("input",{type:"text",placeholder:"name",value:r.name,className:`form-control rounded-md border ${l.name?"border-danger":"border-gray-300"} focus:border-purple-700 focus:outline-none focus:ring-1 focus:ring-purple-700 py-1 px-1.5 text-gray-500`,style:{boxShadow:"inset 2px 2px 7px -3px grey"},onChange:o=>a({...r,name:o.target.value})}),l.name&&e.jsx("p",{className:"text-danger text-xs mt-2",children:l.name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"mb-2 block text-xs font-semibold",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Enter your email",value:r.email,className:`form-control rounded-md border ${l.email?"border-danger":"border-gray-300"} focus:border-purple-700 focus:outline-none focus:ring-1 focus:ring-purple-700 py-1 px-1.5 text-gray-500`,style:{boxShadow:"inset 2px 2px 7px -3px grey"},onChange:o=>a({...r,email:o.target.value})}),l.email&&e.jsx("p",{className:"text-danger text-xs mt-2",children:l.email})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"mb-2 block text-xs font-semibold",children:"Password"}),e.jsx("input",{type:"password",placeholder:"*****",value:r.password,className:`form-control rounded-md border ${l.password?"border-danger":"border-gray-300"} focus:border-purple-700 focus:outline-none focus:ring-1 focus:ring-purple-700 py-1 px-1.5 text-gray-500`,style:{boxShadow:"inset 2px 2px 7px -3px grey"},onChange:o=>a({...r,password:o.target.value})}),l.password&&e.jsx("p",{className:"text-danger text-xs mt-2",children:l.password})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"mb-2 block text-xs font-semibold",children:"Confirm Password"}),e.jsx("input",{type:"password",placeholder:"****",value:r.Cpassword,className:"form-control rounded-md border focus:border-purple-700 focus:outline-none focus:ring-1 focus:ring-purple-700 py-1 px-1.5 text-gray-500",style:{boxShadow:"inset 2px 2px 7px -3px grey"},onChange:o=>a({...r,Cpassword:o.target.value})}),l.Cpassword&&e.jsx("p",{className:"text-danger text-xs mt-2",children:l.Cpassword})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"buttonSub",type:"submit",disabled:i,children:"Submit"})}),e.jsx("br",{}),e.jsx("div",{className:"mb-3",children:e.jsxs("button",{onClick:u,className:"buttn btn btn-block btn-outline-secondary d-flex justify-content-center align-items-center",style:{width:"53%"},children:[e.jsx("img",{className:"google w-5 mr-2",src:"https://lh3.googleusercontent.com/COxitqgJr1sJnIDe8-jiKhxDx1FrYbtRHKJ9z_hELisAlapwE9LUPh6fcXIfb5vwpbMl4xl9H9TRFPc5NOO8Sb3VSgIBrfRYvW6cUA",alt:"Google Icon",style:{width:"25%"}}),"SignUp with Google"]})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Already Have An Account?"}),e.jsx(v,{to:"/signIn",className:"text-xs font-semibold text-purple-700",children:"Sign in"})]})]}),e.jsxs("div",{className:"banner col-md-6 rounded-r-md position-relative d-none d-md-block",children:[e.jsx("img",{className:"h-100 object-cover rounded-r-md",src:"/assets/admin/signUp/wp8326408-2021-aston-martin-dbx-wallpapers (3).jpg",alt:"Login banner",style:{objectFit:"cover",width:"113%"}}),e.jsx("div",{className:"position-absolute top-0 start-50 translate-middle-x",style:{maxWidth:"100%",padding:"0 15px"},children:e.jsx("p",{className:"quote text-center py-3",style:{wordWrap:"break-word",maxWidth:"100%"},children:"Choose Your Vision"})})]})]})})})]})},I=()=>e.jsx(A,{});export{I as default};
