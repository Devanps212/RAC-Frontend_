import{u as D,a as E,r as x,j as e,L as R,b as W,s as v,l as N,B as c}from"./index-BrEFav4U.js";import{u as A}from"./userAuthentication-DU6P192c.js";import{G as F}from"./googleAuthService-CUT0K8oX.js";const I=()=>{const d=D(),u=E(),[h,m]=x.useState(!1),[l,b]=x.useState({email:"",password:""}),[r,g]=x.useState({email:"",password:""}),k=async o=>{try{console.log("checking form datas"),o.preventDefault();let s=!0;console.log(s);const{email:p,password:t}=l,C=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(p??"");if(console.log("checking email"),!p||!C||p.trim()==""){s=!1,console.log("email",s),g(a=>({...a,email:"Please enter a valid email"})),console.log("failed email");return}const f=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+{}[\]:;<>,.?~\\/-]).{8,}$/.test(t);if(console.log("passCheck",f),console.log("checking password"),!t||t.trim()==""){s=!1,console.log("password First",s),g(a=>({...a,password:"Please enter a valid password"})),console.log("failed password");return}else if(!f){s=!1,console.log("passcheck contain rules: ",s);const a=/[a-z]/.test(t),i=/[A-Z]/.test(t),j=/\d/.test(t),w=/[!@#$%^&*()_+{}[\]:;<>,.?~\\/-]/.test(t),y=t.length>7;if(!a||!i||!y||!j||!w){let n="Password must ";n+=a?"":"contain at least one lowercase letter, ",n+=i?"":"contain at least one uppercase letter, ",n+=j?"":"contain at least one digit, ",n+=y?"":"be at least 8 characters long",n+=w?"":"Contain atleast one special Character",g(L=>({...L,password:n})),console.log("failed password");return}return}console.log("checking isValid"),console.log(s),s&&(m(!0),console.log("Everything is valid"),await A(l).then(a=>{if(console.log(a),a.message=="Login success"){const i=a.token;console.log("token : ",i),d(v(i)),d(N()),c.success("login success"),m(!1),u("/")}}).catch(a=>{console.log(a.message),c.error(a.message),m(!1)}))}catch(s){console.log(s),c.error(s.message)}},S=async o=>{o.preventDefault(),F().then(s=>{s.message==="user SignIn success"||s.message==="user SignUp success"?(console.log("response : ",s),c.success(s.message),console.log(s.token),d(v(s.token)),d(N()),setTimeout(()=>{u("/")},1e3)):(console.log(s.message),c.error("something went wrong"))}).catch(s=>{console.log("error : ",s),c.error(s.message)})};return e.jsxs("div",{className:"container-fluid backG",children:[h&&e.jsx(R,{}),e.jsx("div",{className:"row justify-content-center align-items-center min-vh-100 bg-gray-200 py-5 pt-5",children:e.jsx("div",{className:"col-md-8",style:{backgroundColor:"#fff"},children:e.jsxs("div",{className:"row shadow",style:{marginRight:"-24px"},children:[e.jsxs("div",{className:"col-md-6 rounded-l-md bg-white p-4",style:{maxWidth:"450px"},children:[e.jsx("h1",{className:"text-xl font-semibold",children:"User SignIn"}),e.jsx("small",{className:"text-gray-400",children:"Enter your details below."}),e.jsxs("form",{className:"mt-4",onSubmit:k,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"mb-2 block text-xs font-semibold",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Enter your email",value:l.email,className:`form-control rounded-md border ${r.email?"border-danger":"border-gray-300"} focus:border-purple-700 focus:outline-none focus:ring-1 focus:ring-purple-700 py-1 px-1.5 text-gray-500`,style:{boxShadow:"inset 2px 2px 7px -3px grey"},onChange:o=>b({...l,email:o.target.value})}),r.email&&e.jsx("p",{className:"text-danger text-xs mt-2",children:r.email})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"mb-2 block text-xs font-semibold",children:"Password"}),e.jsx("input",{type:"password",placeholder:"*****",value:l.password,className:`form-control rounded-md border ${r.password?"border-danger":"border-gray-300"} focus:border-purple-700 focus:outline-none focus:ring-1 focus:ring-purple-700 py-1 px-1.5 text-gray-500`,style:{boxShadow:"inset 2px 2px 7px -3px grey"},onChange:o=>b({...l,password:o.target.value})}),r.password&&e.jsx("p",{className:"text-danger text-xs mt-2",children:r.password})]}),e.jsx("div",{className:"mb-3 form-check",children:e.jsx("a",{href:"/forgotPassword",className:"text-xs font-semibold text-purple-700 ml-auto",children:"Forgot password?"})}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"buttonSub",disabled:h,type:"submit",children:"Sumbit"})}),e.jsx("br",{}),e.jsx("div",{className:"mb-3",children:e.jsxs("button",{onClick:S,className:"buttn btn btn-block btn-outline-secondary d-flex justify-content-center align-items-center",style:{width:"53%"},children:[e.jsx("img",{className:"google w-5 mr-2",src:"https://lh3.googleusercontent.com/COxitqgJr1sJnIDe8-jiKhxDx1FrYbtRHKJ9z_hELisAlapwE9LUPh6fcXIfb5vwpbMl4xl9H9TRFPc5NOO8Sb3VSgIBrfRYvW6cUA",alt:"Google Icon",style:{width:"25%"}}),"Sign in with Google"]})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Dont have an account?"}),e.jsx(W,{to:"/signUp",className:"text-xs font-semibold text-purple-700",children:"Sign up"})]})]}),e.jsxs("div",{className:"banner col-md-6 rounded-r-md position-relative d-none d-md-block",children:[e.jsx("img",{className:"h-100 object-cover rounded-r-md",src:"/assets/admin/login/Wallpapers World Cars Wallpapers Full HD 1080p (1).jpg",alt:"Login banner",style:{objectFit:"cover",width:"115%"}}),e.jsx("div",{className:"position-absolute top-0 start-50 translate-middle-x",style:{maxWidth:"100%",padding:"0 15px"},children:e.jsx("p",{className:"quote text-center py-3",style:{wordWrap:"break-word",maxWidth:"100%"},children:"Just Drive Your Dream"})})]})]})})})]})},V=()=>e.jsx(I,{});export{V as default};
