import{j as s,r,e as W,a as E,o as H,S as i,p as f,q as N,v as R,O as C,T as k,b as S,M as j,w as M,x as q,y as V,B as Y,U as G}from"./index-CSNcg-Tf.js";import{F as J}from"./footer-DdIzQi4q.js";const K=({images:e,handleClick:g})=>{const[a,d]=e,x=o=>{console.log("index : ",o);const c=d[o];console.log("smallToBig : ",c),console.log("bigImg ; ",a),g(c,a)};return s.jsxs(s.Fragment,{children:[s.jsx("img",{src:a||"small_car_image_3.jpg",alt:"Big Car Image",className:"img-thumbnail mb-2",style:{width:"100%"}}),s.jsx("div",{className:"d-flex justify-content-center align-items-center",children:d&&d.length>0&&d.map((o,c)=>s.jsx("div",{className:"col",children:s.jsx("img",{src:o,alt:`Small Car Image ${c}`,onClick:()=>x(c),className:"img-thumbnail mb-2",style:{width:"100%",height:"100%"}})},c))})]})},Q=()=>{var L,P;const[e,g]=r.useState(null),[a,d]=r.useState(null),[x,o]=r.useState(null),[c,y]=r.useState(""),[p,v]=r.useState([]),[D,T]=r.useState(!0),w=W(l=>l.token.token)??"",[A,b]=r.useState(!1);E();const F=H(),[U,B]=r.useState([]),I=new URLSearchParams(F.search),u=I.get("carId")??"",_=Array(5).fill(0),m="bottom",$=I.get("bookingDetail");r.useEffect(()=>{u&&(async()=>{try{const n=await M(w).payload,h=await q(n);d(h.data);const t=await V(u,"user");g(t),o(t.category),B(t.comments),y(t.thumbnailImg);const O=[...t.exterior,...t.interior];v(O),T(!1)}catch(n){Y.error(n.message)}})()},[u,w]);const z=(l,n)=>{const h=p.findIndex(t=>t===l);if(h!==-1){y(l);const t=[...p];t[h]=n,v(t)}};return s.jsxs(s.Fragment,{children:[D?s.jsxs("div",{className:"container",style:{paddingTop:"7rem"},children:[s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsxs("div",{className:"row d-flex flex-column justify-content-start align-items-start",children:[s.jsx("div",{className:"col tags",children:s.jsx(i,{height:30})}),s.jsx("div",{className:"col tags",children:s.jsx(i,{height:30})}),s.jsx("div",{className:"col tags",children:s.jsx(i,{height:30})}),s.jsx("div",{className:"col tags",children:s.jsx(i,{height:30})})]})}),s.jsx("div",{className:"col-6",children:s.jsx(i,{height:400})}),s.jsxs("div",{className:"col-4 d-flex flex-column justify-content-start align-items-start",children:[s.jsx(i,{height:30,width:200}),s.jsx("div",{className:"specs mx-0 py-0",children:s.jsxs("ul",{className:"list-unstyled pt-3",style:{textAlign:"start",paddingLeft:"0"},children:[s.jsx("li",{children:s.jsx(i,{height:20,width:100})}),s.jsx("li",{className:"Detail-List",children:s.jsx(i,{height:20,width:100})}),s.jsx("li",{className:"Detail-List",children:s.jsx(i,{height:20,width:100})}),s.jsx("li",{className:"Detail-List",children:s.jsx(i,{height:20,width:100})}),s.jsx("li",{className:"Detail-List",children:s.jsx(i,{height:20,width:100})}),s.jsx("li",{className:"Detail-List",children:s.jsx(i,{height:20,width:100})}),s.jsx("li",{className:"Detail-List",children:s.jsx(i,{height:20,width:100})}),s.jsx("li",{className:"mb-4",children:s.jsx(i,{height:20,width:100})}),s.jsx("li",{className:"RPW",children:s.jsx(i,{height:20,width:100})}),s.jsx("li",{className:"RPD",children:s.jsx(i,{height:20,width:100})})]})}),s.jsx("div",{className:"d-flex justify-content-center align-items-center",children:s.jsx(i,{height:40,width:120})})]})]}),s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-6 detailed-specs mb-4 mt-5",children:[s.jsx(i,{height:30,width:200}),s.jsx(i,{count:3})]}),s.jsxs("div",{className:"col-5 d-flex flex-column mb-5 mt-5 ms-2",children:[s.jsx(i,{height:30,width:200}),s.jsx(i,{count:2})]})]})]}):s.jsxs("div",{className:"container",style:{paddingTop:"7rem"},children:[s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsxs("div",{className:"row d-flex flex-column justify-content-start align-items-start",children:[s.jsx("div",{className:"col tags",children:s.jsx("p",{children:"24/7 Service"})}),s.jsx("div",{className:"col tags",children:s.jsx("p",{children:"Flexible Rental Plans"})}),s.jsx("div",{className:"col tags",children:s.jsx("p",{children:"Wide Selection of Cars"})}),s.jsx("div",{className:"col tags",children:s.jsx("p",{children:"Online Booking"})})]})}),s.jsx("div",{className:"col-6",children:s.jsx(K,{images:[c,p],handleClick:z})}),s.jsxs("div",{className:"col-4 d-flex flex-column justify-content-start align-items-start",children:[s.jsx("h2",{children:e==null?void 0:e.name}),s.jsx("div",{className:"specs mx-0 py-0",children:s.jsxs("ul",{className:"list-unstyled pt-3",style:{textAlign:"start",paddingLeft:"0"},children:[s.jsx("li",{children:s.jsx("div",{className:"star-rating mb-4",children:e&&e.rating!==void 0&&_.map((l,n)=>s.jsx("span",{children:n<Number(e.rating)?s.jsx(f,{}):s.jsx(N,{})},n))})}),s.jsxs("li",{className:"Detail-List",children:["Engine: ",s.jsx("strong",{children:e==null?void 0:e.engine})]}),s.jsxs("li",{className:"Detail-List",children:["Fuel: ",s.jsx("strong",{children:e==null?void 0:e.fuelType})]}),s.jsxs("li",{className:"Detail-List",children:["Seats: ",s.jsx("strong",{children:"5"})]}),s.jsxs("li",{className:"Detail-List",children:["Transmission:",s.jsx("strong",{children:e==null?void 0:e.transmission})]}),e&&e.owner&&e.owner==="Admin"?s.jsxs("li",{className:"Detail-List",children:["Owner: ",s.jsx("strong",{children:"RAC(Company)"})]}):s.jsxs("li",{className:"Detail-List",children:["Owner: ",s.jsx("strong",{children:"Partner(Third Party)"})]}),s.jsxs("li",{className:"Detail-List",children:["Category: ",s.jsx("strong",{children:x==null?void 0:x.name})]}),s.jsxs("li",{className:"mb-4",children:["Mileage :",s.jsxs("strong",{children:[e==null?void 0:e.mileage," km/hr"]})]}),s.jsxs("li",{className:"RPW",children:["Rent/Week :",s.jsxs("strong",{children:["₹ ",e==null?void 0:e.rentPricePerWeek]})]}),s.jsxs("li",{className:"RPD",children:["Rent/Day :",s.jsxs("strong",{children:["₹",(L=e==null?void 0:e.offer)!=null&&L.price?(P=e==null?void 0:e.offer)==null?void 0:P.price:e==null?void 0:e.rentPricePerDay]})]})]})}),s.jsxs("div",{className:"d-flex justify-content-center align-items-center",children:[a&&a.refund&&a.refund.length===0?s.jsxs("button",{className:"position-relative negotiate me-3",style:{zIndex:1},children:[s.jsx(R,{className:"position-absolute top-50 start-50 translate-middle",style:{transform:"translate(-50%, -50%)"}}),s.jsx("span",{className:"position-relative",style:{filter:"blur(1.5px)",zIndex:2},children:"Negotiate"})]}):e&&e.owner==="Admin"?s.jsx(C,{placement:m,overlay:s.jsx(k,{id:`tooltip-${m}`,children:"Car owned by Admin. Chat not available."}),children:s.jsxs("button",{className:"position-relative negotiate me-3",style:{zIndex:1},children:[s.jsx(R,{className:"position-absolute top-50 start-50 translate-middle",style:{transform:"translate(-50%, -50%)"}}),s.jsx("span",{className:"position-relative",style:{filter:"blur(1.5px)",zIndex:2},children:"Chat"})]})},m):s.jsx(s.Fragment,{children:a&&a.refund&&a.refund.length===0?s.jsx(C,{placement:m,overlay:s.jsx(k,{id:`tooltip-${m}`,children:"Please rent a car first to access Chat."}),children:s.jsx("button",{className:"negotiate me-3",style:{zIndex:1},children:s.jsx("span",{className:"position-relative",children:"Chat"})})},m):s.jsx(S,{to:`/negotiate/${a==null?void 0:a._id}/${e==null?void 0:e.addedById}/${e==null?void 0:e._id}`,style:{textDecoration:"none"},children:s.jsx("button",{className:"negotiate me-3",style:{zIndex:1},children:s.jsx("span",{className:"position-relative",children:"Chat"})})})}),s.jsx(S,{to:`/bookingUI?carId=${e==null?void 0:e._id}&bookingDetail=${$}`,children:s.jsx("button",{className:"book-now",children:"Book now"})})]})]})]}),s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-6 detailed-specs mb-4 mt-5",children:[s.jsx("h2",{children:"Description"}),s.jsx("p",{style:{textAlign:"justify"},children:e==null?void 0:e.description})]}),s.jsxs("div",{className:"col-5 d-flex flex-column mb-5 mt-5 ms-2",children:[s.jsx("h2",{children:e&&e.comments&&e.comments.length>0?"Reviews":"No Reviews"}),e&&e.comments&&e.comments.length>0?e.comments.slice(0,2).map((l,n)=>s.jsxs("div",{className:"review-wrapper mt-2 mb-2",children:[s.jsxs("div",{className:"d-flex align-items-center",children:[l.userId.profilePic?s.jsx("img",{src:typeof l.userId.profilePic=="string"?l.userId.profilePic:URL.createObjectURL(l.userId.profilePic),alt:"Profile",style:{borderRadius:"10px",width:"8%"}}):s.jsx("img",{src:"https://via.placeholder.com/150",alt:"Profile",style:{borderRadius:"10px",width:"10%"}}),s.jsxs("div",{className:"col",children:[s.jsx("h5",{style:{marginLeft:"10px"},children:l.userId.name}),s.jsx("strong",{style:{marginLeft:"10px"},children:Array.from({length:5},(h,t)=>s.jsx("span",{children:t<l.userRating?s.jsx(f,{style:{color:"black"}}):s.jsx(N,{})},t))})]})]}),s.jsx("div",{className:"col",children:s.jsx("p",{style:{textAlign:"justify"},children:l.comment})})]},n)):s.jsx("div",{className:"d-flex flex-column justify-content-center align-items-center",children:s.jsx("img",{src:"https://res.cloudinary.com/dlkrxem40/image/upload/v1714048543/Assets/Icons/no-speak_y1prfb.png",alt:"No Reviews",style:{width:"35%",marginTop:"12px"}})}),e&&e.comments&&e.comments.length>0&&s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{marginTop:"2rem"},children:s.jsx("button",{className:"hover-border-7 text-decoration-none",onClick:()=>b(!0),children:"View All Reviews"})})]})]})]}),s.jsxs(j,{show:A,onHide:()=>b(!1),size:"lg",children:[s.jsx(j.Header,{closeButton:!0,children:s.jsx(j.Title,{children:"Reviews"})}),s.jsx(j.Body,{style:{maxHeight:"60vh",overflowY:"auto"},children:U.map((l,n)=>s.jsx("div",{className:"review-wrapper mt-2 mb-2",children:s.jsxs("div",{className:"d-flex align-items-center",children:[l.userId.profilePic?s.jsx("img",{src:typeof l.userId.profilePic=="string"?l.userId.profilePic:URL.createObjectURL(l.userId.profilePic),alt:"Profile",style:{borderRadius:"10px",width:"4%"}}):s.jsx("img",{src:"https://via.placeholder.com/150",alt:"Profile",style:{borderRadius:"10px",width:"10%"}}),s.jsxs("div",{className:"col",children:[s.jsx("h5",{style:{marginLeft:"10px"},children:l.userId.name}),s.jsx("strong",{className:"star-rating-item",style:{marginLeft:"10px"},children:Array.from({length:5},(h,t)=>s.jsx("span",{children:t<l.userRating?s.jsx(f,{style:{color:"black"}}):s.jsx(N,{})},t))}),s.jsx("br",{}),s.jsx("strong",{style:{marginLeft:"10px"},children:l.comment})]})]})},n))})]})]})},ss=()=>s.jsxs(s.Fragment,{children:[s.jsx(G,{}),s.jsx(Q,{}),s.jsx(J,{})]});export{ss as default};
